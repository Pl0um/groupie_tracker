<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/Locations.css">
    <title>Locations</title>
</head>
<body>
    <h1>Locations</h1>
    <div id="locations"></div>
    <script>
        fetch('/api/locations')
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(data => {
                fetch(proxyUrl + encodeURIComponent(parsedData.locations))
                    .then(response => response.json())
                    .then(locationsData => {
                        const locations = JSON.parse(locationsData.contents);
                        const artistLocations = locations.index[artist.id];
                                if (artistLocations && typeof artistLocations === 'object') {
                                    const locationsList = document.createElement('ul');
                                    for (const [city, dates] of Object.entries(artistLocations)) {
                                        const locationItem = document.createElement('li');
                                        locationItem.textContent = `${city}: ${Array.isArray(dates) ? dates.join(', ') : dates}`;
                                        locationsList.appendChild(locationItem);
                                    }
                                     li.appendChild(locationsList);
                                }
                    })
                    .catch(() => {});
            }
    </script>
</body>
</html>